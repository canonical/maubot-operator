# Copyright 2024 Canonical Ltd.
# See LICENSE file for licensing details.

name: maubot
title: maubot
description: |
  A Juju charm deploying and managing maubot on Kubernetes. Maubot is a
  plugin-based Matrix bot system written in Python.
summary: An operator deploying and managing maubot.
links:
  issues: https://github.com/canonical/maubot-operator/issues
  source: https://github.com/canonical/maubot-operator
  contact:
    - https://launchpad.net/~canonical-is-devops

resources:
  maubot-image:
    type: oci-image
    description: OCI image for maubot
  maubot-nginx-image:
    type: oci-image
    description: OCI image for nginx Maubot

containers:
  maubot:
    resource: maubot-image
  maubot-nginx:
    resource: maubot-nginx-image

type: charm
base: ubuntu@24.04
build-base: ubuntu@24.04
platforms:
  amd64:

parts:
  charm:
    build-packages:
      - cargo
      - libffi-dev
      - libssl-dev
      - pkg-config
      - rustc

assumes:
  - juju >= 3.4
